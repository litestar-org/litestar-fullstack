---
description:
globs:
alwaysApply: false
---
# Tailwind CSS v4 Conventions

## Objective
To ensure consistent, maintainable, and efficient use of Tailwind CSS v4, leveraging its utility-first approach and new v4 features for styling the frontend application. This project uses **Tailwind CSS v4**.

## Context
- **Technologies**: Tailwind CSS v4, PostCSS, Vite.
- **Frontend Stack**: Likely React with TypeScript (given ShadCN usage), but adaptable.
- **Project Files**: `src/js/tailwind.config.js` (or `.ts`), `src/js/postcss.config.js`, `src/js/src/globals.css` (or equivalent), frontend component files (e.g., `.tsx`).
- **Key Concepts**: Utility-first, responsive design, dark mode, custom themes via CSS variables, JIT compilation (inherent in v4).

## Rules

### Configuration (`tailwind.config.js` or `tailwind.config.ts`)
- **Theme Customization**: Define project-specific design tokens (colors, spacing, typography, etc.) within the `theme.extend` object. Prefer using CSS variables for dynamic values.
    - ✅
      ```javascript
      // tailwind.config.js (example for v4, syntax might slightly evolve)
      /** @type {import('tailwindcss').Config} */
      module.exports = {
        content: ['./src/js/**/*.{html,js,jsx,ts,tsx,vue,svelte}'],
        theme: {
          extend: {
            colors: {
              primary: 'hsl(var(--primary))',
              secondary: 'hsl(var(--secondary))',
              // ... other colors based on CSS variables
            },
            // ... other extensions for spacing, typography etc.
          },
        },
        plugins: [
            require('@tailwindcss/typography'),
            require('@tailwindcss/forms'),
            // Potentially other plugins like animate, aspect-ratio etc.
        ],
      };
      ```
- **CSS Variables**: Heavily leverage Tailwind CSS v4's improved support for CSS variables for theming. Define base HSL variables in your global CSS (`src/js/src/globals.css`) and reference them in `tailwind.config.js`.
    - ✅ In `globals.css`:
      ```css
      @layer base {
        :root {
          --background: 0 0% 100%; /* Light mode background */
          --foreground: 224 71.4% 4.1%;
          --primary: 220.9 39.3% 11%;
          /* ... other variables ... */
        }
        .dark {
          --background: 224 71.4% 4.1%; /* Dark mode background */
          --foreground: 210 20% 98%;
          --primary: 210 20% 98%;
          /* ... other variables ... */
        }
      }
      ```
- **Content Path**: Ensure the `content` array in `tailwind.config.js` correctly and comprehensively lists all files that will contain Tailwind CSS classes to ensure proper style generation.

### Utility Usage
- **Utility-First**: Embrace the utility-first approach. Apply styles directly in HTML/JSX/Vue/Svelte templates using Tailwind classes.
    - ✅ `<div class="flex items-center justify-between p-4 bg-background text-foreground rounded-lg">...</div>`
    - ❌ Writing extensive custom CSS classes for simple layout or styling that can be achieved with existing utilities.
- **Readability**: For complex components with many utilities, consider:
    - Grouping related utilities logically.
    - Breaking the component into smaller, more focused sub-components.
    - Using a tool/plugin for sorting Tailwind classes if desired (e.g., Prettier plugin).
- **Responsive Prefixes**: Use responsive prefixes (`sm:`, `md:`, `lg:`, `xl:`, `2xl:`) to apply styles at different breakpoints.
    - ✅ `<div class="text-sm md:text-base lg:text-lg">...</div>`
- **State Prefixes**: Use state prefixes (`hover:`, `focus:`, `active:`, `disabled:`, `dark:`, `group-hover:`, `peer-focus:`) for interactive and theme-based styling.
    - ✅ `<button class="bg-primary text-primary-foreground hover:bg-primary/90 focus:ring-2">...</button>`
- **Dark Mode**: Implement dark mode using the `dark:` variant, configured in `tailwind.config.js` (usually `darkMode: 'class'`). Apply the `.dark` class to a parent element (e.g., `<html>` or `<body>`).

### Component Styling
- **ShadCN/UI Integration**: For projects using ShadCN/UI, styling is primarily managed by customizing the ShadCN components, which themselves use Tailwind. See `.cursor/rules/frontend/shadcn_ui_components.mdc`.
- **Abstracting Repetitive Utilities**: For highly reusable UI patterns not covered by ShadCN/UI, create dedicated components (e.g., React/Vue/Svelte components) that encapsulate these utilities.
- **Limit `@apply`**: Avoid using `@apply` to create custom CSS classes from Tailwind utilities. Tailwind CSS v4 encourages direct utility application or component-based abstraction.
    - ⚠️ `@apply` should be used very sparingly, if at all. It can lead to CSS bloat and negate some benefits of the utility-first approach if overused.

### Performance
- **JIT Engine**: Tailwind CSS v4 uses a highly optimized Just-In-Time (JIT) engine by default, generating only the CSS that is actually used in your project.
- **Minimize Custom CSS**: Rely on Tailwind utilities as much as possible to keep custom CSS to a minimum. This ensures better maintainability and leverages Tailwind's optimizations.

## Exceptions
- Email templates might require inline styles or different CSS approaches due to email client limitations.
- Interfacing with third-party libraries that have their own extensive styling systems might require some custom CSS or adaptation layers.
