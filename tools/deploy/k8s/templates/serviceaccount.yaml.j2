apiVersion: v1
kind: ServiceAccount
metadata:
  name: {{ service_account_name | default('litestar-app') }}
  namespace: {{ namespace }}
  labels:
    app.kubernetes.io/name: litestar-app
    app.kubernetes.io/component: serviceaccount
  {% if gcp_service_account %}
  annotations:
    # GKE Workload Identity - bind KSA to GSA
    iam.gke.io/gcp-service-account: {{ gcp_service_account }}
  {% endif %}
automountServiceAccountToken: true
