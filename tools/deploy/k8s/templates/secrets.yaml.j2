apiVersion: v1
kind: Secret
metadata:
  name: app-secrets
  namespace: {{ namespace }}
  labels:
    app.kubernetes.io/name: litestar-app
    app.kubernetes.io/component: secrets
type: Opaque
data:
  # Database password (base64 encoded)
  DATABASE_PASSWORD: {{ database_password_b64 }}

  # Application secret key for session signing, CSRF, etc. (base64 encoded)
  SECRET_KEY: {{ secret_key_b64 }}

  # Full database URL (base64 encoded) - built from components
  # Format: postgresql+asyncpg://user:password@host:port/database
  DATABASE_URL: {{ database_url_b64 }}

  {% if resend_api_key_b64 %}
  # Resend API key for email (base64 encoded)
  RESEND_API_KEY: {{ resend_api_key_b64 }}
  {% endif %}

  {% if github_oauth_client_id_b64 %}
  # GitHub OAuth credentials (base64 encoded)
  GITHUB_OAUTH2_CLIENT_ID: {{ github_oauth_client_id_b64 }}
  GITHUB_OAUTH2_CLIENT_SECRET: {{ github_oauth_client_secret_b64 }}
  {% endif %}

  {% if google_oauth_client_id_b64 %}
  # Google OAuth credentials (base64 encoded)
  GOOGLE_OAUTH2_CLIENT_ID: {{ google_oauth_client_id_b64 }}
  GOOGLE_OAUTH2_CLIENT_SECRET: {{ google_oauth_client_secret_b64 }}
  {% endif %}
