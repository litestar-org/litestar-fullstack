# =============================================================================
# Railway Environment Variables Template
# =============================================================================
# Copy this file and fill in your values, then run:
#   ./env-setup.sh --from-file .env.railway
#
# Or configure interactively:
#   ./env-setup.sh
# =============================================================================

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
# A secure secret key (auto-generated by deploy.sh, but can be overridden)
# Generate with: openssl rand -base64 32
SECRET_KEY=your-secure-secret-key

# Application name displayed in UI
APP_NAME="Litestar Fullstack SPA"

# Public URL of your Railway deployment (set after first deploy)
# Format: https://your-app.up.railway.app
APP_URL=https://your-app.up.railway.app

# Debug mode (always false in production)
LITESTAR_DEBUG=false

# Port configuration - auto-configured by deploy.sh
# Railway injects PORT, we map it to LITESTAR_PORT
# Do NOT set this manually - it uses Railway variable references
# LITESTAR_PORT=${{PORT}}

# -----------------------------------------------------------------------------
# Database
# -----------------------------------------------------------------------------
# Railway automatically provides DATABASE_URL when PostgreSQL is provisioned
# You don't need to set this manually - it's injected by Railway
# DATABASE_URL=postgresql+asyncpg://user:pass@host:port/db

# Connection pool settings (optional, sensible defaults provided)
DATABASE_POOL_SIZE=5
DATABASE_POOL_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30

# -----------------------------------------------------------------------------
# Redis (SAQ Background Tasks)
# -----------------------------------------------------------------------------
# Railway automatically provides REDIS_URL when Redis is provisioned
# You don't need to set this manually - it's injected by Railway as SAQ_REDIS_URL
# SAQ_REDIS_URL=redis://user:pass@host:port

# SAQ worker concurrency (optional)
# SAQ_CONCURRENCY=10

# -----------------------------------------------------------------------------
# Frontend
# -----------------------------------------------------------------------------
# Vite dev mode - always false in production
VITE_DEV_MODE=false

# -----------------------------------------------------------------------------
# Email (Resend)
# -----------------------------------------------------------------------------
# Enable email functionality
EMAIL_ENABLED=true

# Backend type: resend, console (for testing), or locmem (for tests)
EMAIL_BACKEND=resend

# Sender email address (must be verified in Resend)
# Format: email@yourdomain.com (domain must be verified in Resend dashboard)
EMAIL_FROM_ADDRESS=noreply@yourdomain.com

# Sender display name
EMAIL_FROM_NAME="Your App Name"

# Resend API Key
# Get your API key at: https://resend.com/api-keys
RESEND_API_KEY=re_xxxxxxxxxxxx

# Token expiration settings (optional)
EMAIL_VERIFICATION_TOKEN_EXPIRES_HOURS=24
EMAIL_PASSWORD_RESET_TOKEN_EXPIRES_MINUTES=60
EMAIL_INVITATION_TOKEN_EXPIRES_DAYS=7

# -----------------------------------------------------------------------------
# OAuth (Optional)
# -----------------------------------------------------------------------------
# GitHub OAuth
# Create app at: https://github.com/settings/developers
# Callback URL: https://fullstack.litestar.dev/api/auth/oauth/github/callback
# GITHUB_OAUTH2_CLIENT_ID=your-github-client-id
# GITHUB_OAUTH2_CLIENT_SECRET=your-github-client-secret

# Google OAuth
# Create app at: https://console.cloud.google.com/apis/credentials
# Callback URL: https://fullstack.litestar.dev/api/auth/oauth/google/callback
# GOOGLE_OAUTH2_CLIENT_ID=your-google-client-id
# GOOGLE_OAUTH2_CLIENT_SECRET=your-google-client-secret

# -----------------------------------------------------------------------------
# Proxy Configuration
# -----------------------------------------------------------------------------
# Trust X-Forwarded-* headers from Railway's edge proxy
# Required for correct HTTPS detection in OAuth redirect URIs
# Auto-configured by deploy.sh, but can be set manually
LITESTAR_TRUSTED_PROXIES=*

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# CORS allowed origins (comma-separated or JSON array)
# ALLOWED_CORS_ORIGINS=["https://your-domain.com"]

# CSRF settings
CSRF_COOKIE_SECURE=true

# -----------------------------------------------------------------------------
# Features
# -----------------------------------------------------------------------------
# Enable user registration
REGISTRATION_ENABLED=true

# Enable multi-factor authentication
MFA_ENABLED=true

# Enable email verification requirement
EMAIL_VERIFICATION_REQUIRED=true

# -----------------------------------------------------------------------------
# Storage (Optional - for file uploads)
# -----------------------------------------------------------------------------
# Storage backend: local, s3, gcs, azure
STORAGE_BACKEND=local

# For S3:
# STORAGE_BACKEND=s3
# STORAGE_BUCKET=your-bucket-name
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: 10=DEBUG, 20=INFO, 30=WARNING, 40=ERROR
LOG_LEVEL=20
SQLALCHEMY_LOG_LEVEL=30
